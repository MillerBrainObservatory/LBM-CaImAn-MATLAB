selector_to_html = {"a[href=\"https://en.wikipedia.org/wiki/Signal-to-noise_ratio\"]": "<img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f9/SNR_image_demonstration.png/330px-SNR_image_demonstration.png\" alt=\"Wikipedia thumbnail\" style=\"float:left; margin-right:10px;\"><p><b>Signal-to-noise ratio</b> is a measure used in science and engineering that compares the level of a desired signal to the level of background noise. SNR is defined as the ratio of signal power to noise power, often expressed in decibels. A ratio higher than 1:1 indicates more signal than noise.</p>", "a[href^=\"https://en.wikipedia.org/wiki/Signal-to-noise_ratio#\"]": "<img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f9/SNR_image_demonstration.png/330px-SNR_image_demonstration.png\" alt=\"Wikipedia thumbnail\" style=\"float:left; margin-right:10px;\"><p><b>Signal-to-noise ratio</b> is a measure used in science and engineering that compares the level of a desired signal to the level of background noise. SNR is defined as the ratio of signal power to noise power, often expressed in decibels. A ratio higher than 1:1 indicates more signal than noise.</p>", "a[href=\"#segmentation-outputs\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">3.4. </span>Segmentation Outputs<a class=\"headerlink\" href=\"#segmentation-outputs\" title=\"Permalink to this heading\">#</a></h2><p>The <code class=\"code docutils literal notranslate\"><span class=\"pre\">.h5</span></code> output for segmentation contains several groups.\nYou will not find any movies, those are stored in the <a class=\"reference internal\" href=\"registration.html#reg-output\"><span class=\"std std-ref\">registration outputs</span></a>.</p>", "a[href=\"#segmentation\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">3. </span>Segmentation<a class=\"headerlink\" href=\"#segmentation\" title=\"Permalink to this heading\">#</a></h1><p>Function for this step: <a class=\"reference internal\" href=\"../api/core.html#segmentPlane\" title=\"segmentPlane\"><code class=\"xref mat mat-func docutils literal notranslate\"><span class=\"pre\">segmentPlane()</span></code></a></p>", "a[href=\"#merge-thresh\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">3.3.1. </span><code class=\"code docutils literal notranslate\"><span class=\"pre\">merge_thresh</span></code><a class=\"headerlink\" href=\"#merge-thresh\" title=\"Permalink to this heading\">#</a></h3><p>A correlation coefficient determining the amount of correlation between pixels in time needed to consider two neurons the same neuron.</p>", "a[href=\"registration.html#registration\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">2. </span>Registration<a class=\"headerlink\" href=\"#registration\" title=\"Permalink to this heading\">#</a></h1><p>We use <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Image_registration\">image registration</a> to make sure that our neuron in the first frame is in the same spatial location as in frame N throughout the time-series.</p>", "a[href=\"#min-snr\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">3.3.2. </span><code class=\"code docutils literal notranslate\"><span class=\"pre\">min_SNR</span></code><a class=\"headerlink\" href=\"#min-snr\" title=\"Permalink to this heading\">#</a></h3><p>The minimum <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Signal-to-noise_ratio\">signal-noise ratio</a> needed for the algorithm to accept a neurons initialization (accept it as valid).</p><p>This value is used for an event exceptionality test, which tests the probabilty if some \u201cexceptional events\u201d (like a spike).</p>", "a[href=\"registration.html#reg-output\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">2.5. </span>Outputs<a class=\"headerlink\" href=\"#outputs\" title=\"Permalink to this heading\">#</a></h2><p>Just like <a class=\"reference internal\" href=\"assembly.html#extraction-inputs\"><span class=\"std std-ref\">assembly outputs</span></a>, registration outputs to <code class=\"code docutils literal notranslate\"><span class=\"pre\">.h5</span></code> format.</p><p>Registration outputs have the following groups:</p>", "a[href=\"#segmentation-overview\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">3.1. </span>Segmentation Overview<a class=\"headerlink\" href=\"#segmentation-overview\" title=\"Permalink to this heading\">#</a></h2><p>Much of work is about separating \u201cgood activity\u201d, the flourescence changes that we can attribute to a single cell, vs \u201cnoise, which is everything else (including signal from other neurons).</p><p>To do this, we take advantage of the fact that a <em>slow calcium signal is typically similar between adjacent frames</em>.</p>", "a[href=\"#h5-groups\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">3.4.1. </span>H5 Groups<a class=\"headerlink\" href=\"#h5-groups\" title=\"Permalink to this heading\">#</a></h3><p>The output of the analysis includes several key variables that describe the segmented neuronal components and their corresponding activities.</p><p>Below is a description of each output variable, along with an example of how to use them and what they represent.</p>", "a[href=\"../api/core.html#segmentPlane\"]": "<dt class=\"sig sig-object mat\" id=\"segmentPlane\">\n<span class=\"sig-name descname\"><span class=\"pre\">segmentPlane</span></span><span class=\"sig-paren\">(</span><em class=\"sig-param\"><span class=\"pre\">data_path</span></em>, <em class=\"sig-param\"><span class=\"pre\">varargin</span></em><span class=\"sig-paren\">)</span></dt><dd><p>Segment imaging data using CaImAn CNMF.</p><p>This function applies the CaImAn algorithm to segment neurons from\nmotion-corrected, pre-processed and ROI re-assembled MAxiMuM data.\nThe processing is conducted for specified planes, and the results\nare saved to disk.</p><p class=\"rubric\">Notes</p><p><code class=\"code docutils literal notranslate\"><span class=\"pre\">T_keep</span></code>\n:  neuronal time series [Km, T]. <code class=\"code docutils literal notranslate\"><span class=\"pre\">single</span></code></p><p><code class=\"code docutils literal notranslate\"><span class=\"pre\">Ac_keep</span></code>\n:  neuronal footprints [2*tau+1, 2*tau+1, Km]. <code class=\"code docutils literal notranslate\"><span class=\"pre\">single</span></code></p><p><code class=\"code docutils literal notranslate\"><span class=\"pre\">C_keep</span></code>\n:  denoised time series [Km, T]. <code class=\"code docutils literal notranslate\"><span class=\"pre\">single</span></code></p></dd>", "a[href=\"#tau\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">3.3.3. </span><code class=\"code docutils literal notranslate\"><span class=\"pre\">Tau</span></code><a class=\"headerlink\" href=\"#tau\" title=\"Permalink to this heading\">#</a></h3><p>Half-size of your neurons.</p>", "a[href=\"#inputs\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">3.2. </span>Inputs<a class=\"headerlink\" href=\"#inputs\" title=\"Permalink to this heading\">#</a></h2><p>Inputs are consistent with <a class=\"reference internal\" href=\"registration.html#registration\"><span class=\"std std-ref\">Registration</span></a>, substituting::</p>", "a[href=\"#tuning-cnmf\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">3.3. </span>Tuning CNMF<a class=\"headerlink\" href=\"#tuning-cnmf\" title=\"Permalink to this heading\">#</a></h2><p>To get an idea of the default parameters (what happens if you use <code class=\"code docutils literal notranslate\"><span class=\"pre\">CNMFSetParams()</span></code> with no arguments),\nyou can run the following code to see the defaults:</p>", "a[href=\"#p\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">3.3.4. </span><code class=\"code docutils literal notranslate\"><span class=\"pre\">P</span></code><a class=\"headerlink\" href=\"#p\" title=\"Permalink to this heading\">#</a></h3><p>This is the autoregressive order of the system.</p>", "a[href=\"../glossary.html#term-CNMF\"]": "<dt id=\"term-CNMF\">CNMF</dt><dd><p>The name for a set of algorithms within the flatironinstitute\u2019s <a class=\"reference external\" href=\"https://github.com/flatironinstitute/CaImAn-MATLAB\">CaImAn Pipeline</a> that initialize parameters and run source extraction.</p></dd>"}
skip_classes = ["headerlink", "sd-stretched-link"]

window.onload = function () {
    for (const [select, tip_html] of Object.entries(selector_to_html)) {
        const links = document.querySelectorAll(` ${select}`);
        for (const link of links) {
            if (skip_classes.some(c => link.classList.contains(c))) {
                continue;
            }

            tippy(link, {
                content: tip_html,
                allowHTML: true,
                arrow: true,
                placement: 'auto-start', maxWidth: 500, interactive: false,

            });
        };
    };
    console.log("tippy tips loaded!");
};
